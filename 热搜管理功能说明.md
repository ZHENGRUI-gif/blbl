# 热搜管理功能说明

## 功能概述

热搜管理页面提供了查看平台热搜榜单，并将热门视频快速设置为轮播图的功能。

## 主要功能

### 1. 热搜榜单展示

**位置：** 页面左侧

**功能：**
- 实时显示平台前10个热搜词
- 按热度从高到低排序
- 支持一键刷新热搜数据

**热搜标签：**
- 🏅 **金银铜牌样式**：前3名显示特殊的渐变徽章
- 🆕 **"新"标签**：首次出现的热搜词
- 🔥 **"热"标签**：短时间内搜索量激增的词

**显示信息：**
- 排名（1-10）
- 热搜词内容
- 热度分值（智能显示为"万"）

---

### 2. 相关视频展示

**位置：** 页面右侧

**触发方式：** 点击左侧任意热搜词

**功能：**
- 自动搜索并显示该热搜词相关的视频
- 最多显示20个相关视频（仅显示已过审的）
- 每个视频显示：
  - 封面图
  - 标题
  - 播放量和点赞数
  - UP主昵称

---

### 3. 替换轮播图

**触发方式：** 点击视频卡片上的"替换轮播图"按钮

**操作流程：**

1. **选择新视频**：点击"替换轮播图"按钮
2. **选择要替换的轮播图**：在下拉框中选择现有的某个轮播图
3. **自定义底色**：可设置新轮播图的背景色（默认 #ca8d6b）
4. **确认替换**：点击"确定替换"，系统会：
   - 删除旧的轮播图
   - 添加新的轮播图
   - 保留原有的排序位置

**注意事项：**
- 如果当前没有轮播图，会提示"请先添加轮播图"
- 替换操作不可撤销，请谨慎操作

---

## 使用场景

### 场景1：热门内容推广
当某个话题成为热搜时，可以快速将相关优质视频设置为轮播图，提高曝光度。

### 场景2：内容运营
定期查看热搜榜单，根据用户兴趣调整首页轮播内容，提升用户体验。

### 场景3：快速响应
结合热搜数据和视频质量，快速响应热点事件，提升平台活跃度。

---

## 技术实现

### 前端
- **框架**：Vue 3 + Element Plus
- **布局**：左右分栏，响应式设计
- **API接口**：
  - `GET /search/hot/get` - 获取热搜列表
  - `GET /search/video` - 搜索相关视频
  - `GET /carousel/admin/list` - 获取轮播图列表
  - `DELETE /carousel/admin/delete/{vid}` - 删除轮播图
  - `POST /carousel/admin/add` - 添加轮播图

### 后端
- 热搜数据存储在 Redis 的 `search_word` 有序集合中
- 热搜词根据搜索频次自动更新热度
- 视频搜索使用 ElasticSearch 进行全文检索

---

## 界面截图说明

### 左侧热搜榜单
```
┌─────────────────────────────────┐
│  热搜榜单      刷新    共 10 条  │
├─────────────────────────────────┤
│ 🥇 1  热搜词A  🔥  热度: 1.2万  │
│ 🥈 2  热搜词B  🆕  热度: 8500   │
│ 🥉 3  热搜词C      热度: 7200   │
│  4   热搜词D      热度: 6100   │
│  ...                            │
└─────────────────────────────────┘
```

### 右侧相关视频
```
┌────────────────────────────────────────┐
│  "热搜词A" 相关视频                     │
│  点击按钮将视频设为轮播图                │
├────────────────────────────────────────┤
│ ┌──┐                                   │
│ │  │  视频标题                          │
│ │封│  📊 10.2万  👍 2.3万              │
│ │面│  UP: 用户昵称    [替换轮播图]      │
│ └──┘                                   │
│                                        │
│ ┌──┐                                   │
│ │  │  另一个视频                        │
│ │封│  ...                              │
│ └──┘                                   │
└────────────────────────────────────────┘
```

---

## 常见问题

### Q1: 热搜数据多久更新一次？
A: 热搜数据实时更新，每次用户搜索都会影响热度分值。点击"刷新"按钮可获取最新数据。

### Q2: 为什么有些视频搜不到？
A: 只会显示状态为"已过审"的视频，未过审或已删除的视频不会出现在列表中。

### Q3: 替换轮播图后多久生效？
A: 立即生效。客户端下次请求轮播图接口时就会获取到更新后的数据。

### Q4: 可以添加多个轮播图吗？
A: 替换操作只能一对一替换。如需添加更多轮播图，请前往"轮播图管理"页面。

---

## 相关页面

- **轮播图管理**：完整的轮播图CRUD操作
- **内容管理**：视频审核和管理
- **数据中心**：查看热搜趋势统计

---

## 更新日志

### v1.0.0 (2025-10-29)
- ✅ 初始版本发布
- ✅ 热搜榜单展示功能
- ✅ 相关视频搜索功能
- ✅ 快速替换轮播图功能
- ✅ 视觉优化：排名徽章、标签标识

